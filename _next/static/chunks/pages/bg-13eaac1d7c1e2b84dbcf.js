_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{"Vip/":function(e,t,n){"use strict";n.r(t),n.d(t,"BgPage",(function(){return R}));var r=n("q1tI"),a=n.n(r),o=n("MHn+"),i=n("Womt"),c=n("FwHe"),l=n("1U+b"),u=n("oIFK"),s=n("1OyB"),f=n("Ji7U"),m=n("md7G"),d=n("foSv");function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var a=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}var g="\nvoid main() {\n    vec4 transformedNormal = vec4(normal, 0.);\n    vec4 transformedPosition = vec4(position, 1.0);\n    #ifdef USE_INSTANCING\n        transformedNormal = instanceMatrix * transformedNormal;\n        transformedPosition = instanceMatrix * transformedPosition;\n    #endif\n    gl_Position = projectionMatrix * modelViewMatrix * transformedPosition;\n}\n".trim(),h="\nuniform vec2 resolution;\nuniform sampler2D src;\nuniform float time;\n\nvoid main() {\n    vec2 uv = gl_FragCoord.xy / resolution;\n    vec2 p = (gl_FragCoord.xy * 2.0 - resolution) / min(resolution.x, resolution.y);\n\n    gl_FragColor = vec4(0, 0, 0, 1);\n\n    // Draw pattern\n    // gl_FragColor = vec4(\n    //     .1 / length(p.y - sin(p.x + sin(p.x * 0.2 + time) * .03 + time))\n    //     // .1 / length(p.y - sin(p.x + sin(p.x * 0.7 + time) * .03 + time + 0.1)),\n    //     // .1 / length(p.y - sin(p.x + sin(p.x * 0.9 + time) * .03 + time + 0.2)),\n    //     // 1\n    // );\n\n    // Fetch texture\n    vec2 uv2 = p * 0.5 - 0.5;\n    uv2 = fract(uv2);\n    gl_FragColor = texture2D(src, uv2);\n\n    // Vignette\n    float l = length(p);\n    gl_FragColor.rgb *= 1. - length(p) * 0.5;\n\n    // Screen\n    gl_FragColor.rgb *= sin((p.x * -0.6 + p.y) * 300.) * 0.2 + 0.8;\n\n    // Fade\n    gl_FragColor.rgb *= 0.8;\n\n    // float c = sin(p.x * 10.) * 0.5 + 0.5;\n    // gl_FragColor = vec4(c);\n}\n".trim(),v=(i.ShaderMaterial,a.a.createElement),b=function(){var e=Object(o.d)().size,t=Object(o.c)(i.TextureLoader,Object(u.a)("/static/images/bg/default.jpg"));Object(r.useMemo)((function(){t.minFilter=i.LinearFilter}),[t]),t.repeat=new i.Vector2(10,10),t.wrapS=i.MirroredRepeatWrapping,t.wrapT=i.MirroredRepeatWrapping;var n={resolution:{value:new i.Vector2(e.width,e.height)},src:{value:t},time:{value:0}};return Object(o.b)((function(e){var t=e.clock;n.time.value=t.getElapsedTime()})),v("mesh",{layers:[1],scale:[100,100,100],position:[0,0,-1],rotation:[-Math.PI/4,0,0]},v("planeBufferGeometry",{attach:"geometry"}),v("shaderMaterial",{attach:"material",depthTest:!1,fragmentShader:h,vertexShader:g,uniforms:n}))},w=function(e){var t=e.count,n=Object(o.d)(),u=n.size,s=n.gl,f=n.scene,m=n.camera,d=n.clock,p=Object(r.useRef)(),g=Object(r.useMemo)((function(){var e=new i.WebGLRenderTarget(u.width,u.height),t=new i.WebGLRenderTarget(u.width,u.height);return[e,t,new c.a,new l.a({envMap:e.texture,backfaceMap:t.texture,resolution:[u.width,u.height]})]}),[u]),h=g[0],b=g[1],w=g[2],x=g[3],M=Object(r.useMemo)((function(){return new i.Object3D}),[]),y=Object(r.useMemo)((function(){return new Array(t).fill(0).map((function(e,t){return{position:[15-30*Math.random(),40-40*Math.random(),1-2*Math.random()],factor:.1+4*Math.random(),direction:Math.random()<.5?-1:1,rotation:[0,(Math.floor(10*Math.random())%2*.5+.25)*Math.PI,0]}}))}),[t]);return Object(o.b)((function(){y.forEach((function(e,t){var n,r=d.getElapsedTime();e.position[1]=(100*Math.sin(t)+3*r)%100-50;var a=e.position,o=e.rotation,i=e.factor;M.position.set(a[0],a[1],a[2]),M.rotation.set(0,o[1],0),M.scale.set(1+i,1+i,1),M.updateMatrix(),null===(n=p.current)||void 0===n||n.setMatrixAt(t,M.matrix)})),p.current&&(p.current.instanceMatrix.needsUpdate=!0),s.autoClear=!1,m.layers.set(1),s.setRenderTarget(h),s.render(f,m),m.layers.set(0),p.current&&(p.current.material=w),s.setRenderTarget(b),s.clearDepth(),s.render(f,m),m.layers.set(1),s.setRenderTarget(null),s.render(f,m),s.clearDepth(),m.layers.set(0),p.current&&(p.current.material=x),s.render(f,m)}),1),v(a.a.Fragment,null,v("instancedMesh",{ref:p,args:[null,null,y.length]},v("boxBufferGeometry",{attach:"geometry",args:[1,5,.05]}),v("meshBasicMaterial",{attach:"material"})))},x=function(){return v(r.Suspense,{fallback:null},v(b,null),v(w,{count:100}))},M=a.a.createElement,y={position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-10,pointerEvents:"none"},_=function(){return M(a.a.Fragment,null,M(x,null))},j=function(){return M(o.a,{style:y,camera:{position:[0,6,10],zoom:50},orthographic:!0},M(_,null))},F=n("vOnD"),O=a.a.createElement,E=F.b.div.withConfig({displayName:"bg__Fake",componentId:"sc-1lxicb8-0"})(["display:block;padding-bottom:1000vh;"]),R=function(){return O(a.a.Fragment,null,O(E,null),O(j,null))};t.default=R},wjfz:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bg",function(){return n("Vip/")}])}},[["wjfz",0,1,10,2,4,8]]]);